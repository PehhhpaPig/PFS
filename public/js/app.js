function _0x1cf0(){const _0x5c8aa6=['value','DOMContentLoaded','name','json','item','219316zuwAfY','hint','stringify','delItem','now','244144HcgHao','innerHTML','#scanBtn','194848KktFCM','pls','../api/auth/verify_2fa.php','Enter\x20RFID\x20tag\x20(blank\x20to\x20clear):','/auth/login.php','captcha','\x27)\x22>Set\u00a0Tag</button></td></tr>','55ZwjASn','#scansBody','itemTag','/PFS/api/auth/generate_captcha.php','loginBtn','Welcome\x20to\x20NuTracker!','hidden','PUT','message','updated','application/json','#addItemBtn','status','80486TZFahh','tag_id','Enter\x206\x20digits','src','join','application/x-www-form-urlencoded','Unable\x20to\x20verify\x20CAPTCHA.','#itemName','\x0aLocation:\x20','</td>','forEach','DELETE','code','#app','/PFS/securimage/securimage_show.php?','assignTag','2894680oUyUjL','#itemTag','<td>',',\x20login\x20form\x20is\x20locked\x20until\x20CAPTCHA\x20is\x20succesfull.','preventDefault','CAPTCHA\x20verification\x20failed:','getElementById','captchaHint','username','#tagInput','location','#codeRow','error','trim','204NZvjdT','/scans.php','deleted','6158845vpdWWH','#itemsBody','/items.php?id=','querySelector','length','rfid_tag','Item:\x20','submit','\x0aStock:\x20','textContent','#itemStock','Incorrect\x20CAPTCHA','<tr><td>','#passwordRow','3TTWFYo','#auth','input[name=\x27captcha_code\x27]','&rfid_tag=','id=','captchaImg','stock','map','created','Delete\x20item\x20#','include','addEventListener','2454384EvNJGs','godisdeadandthiscodekilledhim','<td><button\x20onclick=\x22assignTag(','Invalid\x20code','</td></tr>','#itemLoc','scanned_at','disabled','#code','then','/items.php','/PFS/api/auth/captcha_verify.php','captcha_required','9FJgvjE','focus','reload','POST','</td><td>'];_0x1cf0=function(){return _0x5c8aa6;};return _0x1cf0();}const _0x3609e8=_0x43b5;(function(_0x266bc4,_0x203c98){const _0x4398d1=_0x43b5,_0x17ecfd=_0x266bc4();while(!![]){try{const _0x51b968=parseInt(_0x4398d1(0xe1))/0x1+parseInt(_0x4398d1(0x147))/0x2*(-parseInt(_0x4398d1(0x124))/0x3)+-parseInt(_0x4398d1(0xde))/0x4*(parseInt(_0x4398d1(0xe8))/0x5)+-parseInt(_0x4398d1(0x113))/0x6*(-parseInt(_0x4398d1(0xf5))/0x7)+-parseInt(_0x4398d1(0x130))/0x8*(parseInt(_0x4398d1(0x13d))/0x9)+parseInt(_0x4398d1(0x105))/0xa+parseInt(_0x4398d1(0x116))/0xb;if(_0x51b968===_0x203c98)break;else _0x17ecfd['push'](_0x17ecfd['shift']());}catch(_0x3c8e63){_0x17ecfd['push'](_0x17ecfd['shift']());}}}(_0x1cf0,0x54c9b));import{api,$,prefix}from'./core.js';let pending2fa=![];loginBtn[_0x3609e8(0x137)]=![],$('#loginBtn')['onclick']=async()=>{const _0x1515a9=_0x3609e8;if(!pending2fa){const _0x2141d4=await api(_0x1515a9(0xe5),{'method':'POST','body':JSON[_0x1515a9(0x149)]({'username':$('#user')[_0x1515a9(0x142)][_0x1515a9(0x112)](),'password':$('#pass')[_0x1515a9(0x142)]}),'credentials':'include'});if(_0x2141d4['need_2fa'])pending2fa=!![],$(_0x1515a9(0x123))['hidden']=!![],$(_0x1515a9(0x110))['hidden']=![],$(_0x1515a9(0x138))[_0x1515a9(0x13e)]();else _0x2141d4[_0x1515a9(0xf4)]==='OK'?onLoginSuccess():(_0x2141d4[_0x1515a9(0x13c)]&&(document[_0x1515a9(0x10b)](_0x1515a9(0xe6))[_0x1515a9(0xee)]=![],document[_0x1515a9(0x12f)]('DOMContentLoaded',()=>{const _0x1f0bf8=_0x1515a9,_0x27926f=document[_0x1f0bf8(0x10b)](_0x1f0bf8(0xe6)),_0x41cdd2=document[_0x1f0bf8(0x10b)](_0x1f0bf8(0x129)),_0x30d0bf=document['getElementById'](_0x1f0bf8(0x10c)),_0x2e7f80=document[_0x1f0bf8(0x10b)]('loginBtn');_0x27926f&&_0x27926f[_0x1f0bf8(0x12f)](_0x1f0bf8(0x11d),async function(_0xfab02c){const _0x3fb763=_0x1f0bf8;_0xfab02c[_0x3fb763(0x109)]();const _0x493426=_0x27926f[_0x3fb763(0x119)](_0x3fb763(0x126))['value'];try{const _0x2322e0=await fetch(_0x3fb763(0x13b),{'method':_0x3fb763(0x140),'headers':{'Content-Type':_0x3fb763(0xfa)},'body':new URLSearchParams({'captcha_code':_0x493426})}),_0x17b848=await _0x2322e0[_0x3fb763(0x145)]();_0x30d0bf[_0x3fb763(0x11f)]='';if(_0x17b848['status']==='ok'){alert(_0x17b848[_0x3fb763(0xf0)]),_0x27926f[_0x3fb763(0xee)]=!![];if(_0x2e7f80)_0x2e7f80[_0x3fb763(0x137)]=![];}else alert(_0x17b848['message']||_0x3fb763(0x121)),_0x17b848[_0x3fb763(0x148)]&&(_0x30d0bf['textContent']=_0x17b848['hint']),_0x17b848['reload']&&_0x41cdd2&&(_0x41cdd2['src']='/PFS/securimage/securimage_show.php?'+Date[_0x3fb763(0xdd)]());}catch(_0x264796){console['error'](_0x3fb763(0x10a),_0x264796),alert(_0x3fb763(0xfb));}});})),alert(_0x2141d4[_0x1515a9(0x111)]),generateCaptcha(_0x1515a9(0xe2)),loginBtn['disabled']=!![]);}else{const _0x3f1fe4=$('#code')[_0x1515a9(0x142)]['replace'](/\D/g,'');if(_0x3f1fe4[_0x1515a9(0x11a)]!==0x6){alert(_0x1515a9(0xf7));return;}const _0x19173b=new FormData();_0x19173b['append'](_0x1515a9(0x101),_0x3f1fe4);const _0x563b3b=await fetch(_0x1515a9(0xe3),{'method':_0x1515a9(0x140),'body':_0x19173b,'credentials':_0x1515a9(0x12e),'headers':{'Accept':_0x1515a9(0xf2)}}),_0x36b2cc=await _0x563b3b[_0x1515a9(0x145)]();_0x36b2cc['ok']||_0x36b2cc['status']==='OK'?onLoginSuccess():(_0x36b2cc[_0x1515a9(0x13c)]&&(document['getElementById'](_0x1515a9(0xe6))[_0x1515a9(0xee)]=![],document['addEventListener'](_0x1515a9(0x143),()=>{const _0x3f4443=_0x1515a9,_0x876dad=document[_0x3f4443(0x10b)](_0x3f4443(0xe6)),_0x11f62b=document[_0x3f4443(0x10b)](_0x3f4443(0x129)),_0xa458ca=document[_0x3f4443(0x10b)](_0x3f4443(0x10c)),_0x2f9348=document[_0x3f4443(0x10b)]('loginBtn');_0x876dad&&_0x876dad['addEventListener'](_0x3f4443(0x11d),async function(_0x57922f){const _0x4c1893=_0x3f4443;_0x57922f['preventDefault']();const _0x19efb2=_0x876dad[_0x4c1893(0x119)](_0x4c1893(0x126))['value'];try{const _0x483205=await fetch('/PFS/api/auth/captcha_verify.php',{'method':_0x4c1893(0x140),'headers':{'Content-Type':_0x4c1893(0xfa)},'body':new URLSearchParams({'captcha_code':_0x19efb2})}),_0x3140a1=await _0x483205[_0x4c1893(0x145)]();_0xa458ca[_0x4c1893(0x11f)]='';if(_0x3140a1['status']==='ok'){alert(_0x3140a1['message']),_0x876dad[_0x4c1893(0xee)]=!![];if(_0x2f9348)_0x2f9348['disabled']=![];}else alert(_0x3140a1['message']||_0x4c1893(0x121)),_0x3140a1[_0x4c1893(0x148)]&&(_0xa458ca[_0x4c1893(0x11f)]=_0x3140a1['hint']),_0x3140a1[_0x4c1893(0x13f)]&&_0x11f62b&&(_0x11f62b['src']=_0x4c1893(0x103)+Date['now']()),generateCaptcha(_0x4c1893(0xe2));}catch(_0x3757b0){console[_0x4c1893(0x111)]('CAPTCHA\x20verification\x20failed:',_0x3757b0),alert(_0x4c1893(0xfb)),generateCaptcha('pls');}});})),alert(_0x36b2cc[_0x1515a9(0x111)]||_0x1515a9(0x133)),loginBtn[_0x1515a9(0x137)]=!![],generateCaptcha(_0x1515a9(0xe2)));}};function onLoginSuccess(){const _0x5992bc=_0x3609e8;$(_0x5992bc(0x125))[_0x5992bc(0xee)]=!![],$(_0x5992bc(0x102))[_0x5992bc(0xee)]=![],loadItems(),loadScans(),header[_0x5992bc(0xdf)]=_0x5992bc(0xed);}$(_0x3609e8(0xe0))['onclick']=async()=>{const _0xdcb883=_0x3609e8,_0x1b3ea1=$(_0xdcb883(0x10e))['value'][_0xdcb883(0x112)](),_0x4ece2f=await api('/scan.php',{'method':_0xdcb883(0x140),'body':JSON[_0xdcb883(0x149)]({'tagId':_0x1b3ea1})});_0x4ece2f[_0xdcb883(0xf4)]==='OK'?(alert(_0x4ece2f['item']?_0xdcb883(0x11c)+_0x4ece2f[_0xdcb883(0x146)][_0xdcb883(0x144)]+_0xdcb883(0x11e)+_0x4ece2f[_0xdcb883(0x146)][_0xdcb883(0x12a)]+_0xdcb883(0xfd)+_0x4ece2f[_0xdcb883(0x146)][_0xdcb883(0x10f)]:'Tag\x20not\x20associated\x20with\x20any\x20item'),loadScans()):alert(_0x4ece2f['error']);},$(_0x3609e8(0xf3))['onclick']=async()=>{const _0x46d3b2=_0x3609e8,_0x31954b={'name':$(_0x46d3b2(0xfc))['value'],'stock':parseInt($(_0x46d3b2(0x120))[_0x46d3b2(0x142)]||'0',0xa),'location':$(_0x46d3b2(0x135))[_0x46d3b2(0x142)],'rfid_tag':$(_0x46d3b2(0x106))[_0x46d3b2(0x142)]||null},_0x1892d6=await api(_0x46d3b2(0x13a),{'method':_0x46d3b2(0x140),'body':JSON[_0x46d3b2(0x149)](_0x31954b)});if(_0x1892d6[_0x46d3b2(0xf4)]===_0x46d3b2(0x12c))['itemName','itemStock','itemLoc',_0x46d3b2(0xea)][_0x46d3b2(0xff)](_0x2fee9b=>$('#'+_0x2fee9b)[_0x46d3b2(0x142)]=''),loadItems();else alert(_0x1892d6['error']);},window[_0x3609e8(0x104)]=async(_0x4d1e18,_0x48722b)=>{const _0x22eddb=_0x3609e8,_0x134810=prompt(_0x22eddb(0xe4),_0x48722b||'');if(_0x134810===null)return;const _0x5ec51c=await api(_0x22eddb(0x118)+_0x4d1e18,{'method':_0x22eddb(0xef),'body':_0x22eddb(0x128)+_0x4d1e18+_0x22eddb(0x127)+encodeURIComponent(_0x134810)});_0x5ec51c[_0x22eddb(0xf4)]===_0x22eddb(0xf1)?loadItems():alert(_0x5ec51c[_0x22eddb(0x111)]);},window[_0x3609e8(0x14a)]=async _0x3467f9=>{const _0x24c33b=_0x3609e8;if(!confirm(_0x24c33b(0x12d)+_0x3467f9+'?'))return;const _0x3feb2c=await api(_0x24c33b(0x118)+_0x3467f9,{'method':_0x24c33b(0x100)});if(_0x3feb2c['status']===_0x24c33b(0x115))loadItems();};function loadItems(){const _0x5b9438=_0x3609e8;api(_0x5b9438(0x13a))[_0x5b9438(0x139)](_0x440000=>{const _0x4a6161=_0x5b9438;$(_0x4a6161(0x117))['innerHTML']=_0x440000['map'](_0x13f29b=>_0x4a6161(0x122)+_0x13f29b['id']+_0x4a6161(0x141)+_0x13f29b['name']+_0x4a6161(0x141)+_0x13f29b[_0x4a6161(0x12a)]+_0x4a6161(0x141)+(_0x13f29b[_0x4a6161(0x10f)]||'')+_0x4a6161(0xfe)+(_0x4a6161(0x107)+(_0x13f29b['rfid_tag']||'')+'</td>')+(_0x4a6161(0x132)+_0x13f29b['id']+',\x27'+(_0x13f29b[_0x4a6161(0x11b)]||'')+_0x4a6161(0xe7)))[_0x4a6161(0xf9)]('');});}function loadScans(){const _0x3ea3be=_0x3609e8;api(_0x3ea3be(0x114))[_0x3ea3be(0x139)](_0x35beb7=>{const _0x35dcb2=_0x3ea3be;$(_0x35dcb2(0xe9))['innerHTML']=_0x35beb7[_0x35dcb2(0x12b)](_0x2479dd=>_0x35dcb2(0x122)+_0x2479dd['id']+_0x35dcb2(0x141)+_0x2479dd[_0x35dcb2(0xf6)]+'</td><td>'+_0x2479dd[_0x35dcb2(0x10d)]+'</td><td>'+_0x2479dd[_0x35dcb2(0x136)]+_0x35dcb2(0x134))['join']('');});}function _0x43b5(_0x11b725,_0x165d3f){const _0x1cf049=_0x1cf0();return _0x43b5=function(_0x43b54c,_0x4e5664){_0x43b54c=_0x43b54c-0xdd;let _0x2982ad=_0x1cf049[_0x43b54c];return _0x2982ad;},_0x43b5(_0x11b725,_0x165d3f);}async function generateCaptcha(_0x296527){const _0x2b599a=_0x3609e8,_0x1ff1f0=await fetch(_0x2b599a(0xeb),{'method':_0x2b599a(0x140),'headers':{'Content-Type':_0x2b599a(0xfa)},'body':JSON[_0x2b599a(0x149)]({'this_took_me_too_long_to_figure_out_AI_is_useless_i_am_a_golden_god':''})}),_0x3791d7=await _0x1ff1f0[_0x2b599a(0x145)]();try{document[_0x2b599a(0x10b)]('MyAncestorsAreSmilingOnMeImperial')[_0x2b599a(0xdf)]=_0x3791d7[_0x2b599a(0x131)];}catch(_0x1094ef){alert('Well,\x20it\x20was\x20working,\x20ho\x20hum...\x20'+_0x1094ef);}}document['addEventListener'](_0x3609e8(0x143),()=>{const _0xb20414=_0x3609e8,_0xd5bdb3=document[_0xb20414(0x10b)]('captcha'),_0x32e0ac=document[_0xb20414(0x10b)](_0xb20414(0x129)),_0x406c8a=document['getElementById'](_0xb20414(0x10c)),_0x5a9fbb=document[_0xb20414(0x10b)](_0xb20414(0xec));_0xd5bdb3&&_0xd5bdb3[_0xb20414(0x12f)](_0xb20414(0x11d),async function(_0x173824){const _0x468617=_0xb20414;_0x173824[_0x468617(0x109)]();const _0x10d5e4=_0xd5bdb3[_0x468617(0x119)](_0x468617(0x126))['value'];try{const _0x4f985d=await fetch('/PFS/api/auth/captcha_verify.php',{'method':'POST','headers':{'Content-Type':_0x468617(0xfa)},'body':new URLSearchParams({'captcha_code':_0x10d5e4})}),_0x2f955d=await _0x4f985d[_0x468617(0x145)]();_0x406c8a[_0x468617(0x11f)]='',_0x2f955d['status']==='ok'?(alert(_0x2f955d['message']),_0xd5bdb3[_0x468617(0xee)]=!![],_0x5a9fbb[_0x468617(0x137)]=![]):(alert(_0x2f955d[_0x468617(0xf0)]+_0x468617(0x108)||_0x468617(0x121)+_0x468617(0x108)),_0x5a9fbb['disabled']=!![],_0x2f955d[_0x468617(0x148)]&&(_0x406c8a[_0x468617(0x11f)]=_0x2f955d[_0x468617(0x148)]),_0x2f955d['reload']&&_0x32e0ac&&(_0x32e0ac[_0x468617(0xf8)]=_0x468617(0x103)+Date[_0x468617(0xdd)]()));}catch(_0x30f4db){console[_0x468617(0x111)]('CAPTCHA\x20verification\x20failed:',_0x30f4db),alert('Unable\x20to\x20verify\x20CAPTCHA.');}});});